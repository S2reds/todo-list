(()=>{"use strict";var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e,n,r){return(n=function(e){var n=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===t(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){i=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(i)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n,r){this.title=e,this.desc=t,this.date=n,this.prior=r}e.d({},{hs:()=>p});var l=JSON.parse(localStorage.getItem("todo"))||[];function i(e){var t=document.querySelector(".taskContent"),n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("p"),c=document.createElement("p");c.textContent="Click to expand",c.classList.add("click");var a=document.createElement("button"),l=document.createElement("button"),i=document.createElement("div");i.textContent="Description: ".concat(e.desc),i.classList.add("desc");var s=document.createElement("p");l.textContent="Priority",l.classList.add("details"),"low"===e.prior?l.style.backgroundColor="green":"med"===e.prior?(l.style.backgroundColor="yellow",l.style.color="black"):l.style.backgroundColor="crimson",s.textContent="Due By: ".concat(e.date),s.classList.add("taskDate"),a.classList.add("taskRemove"),n.dataset.task="".concat(e.title),a.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512">\n    <path\n      d="M135.2 17.7C140.6 6.8 151.7 0 163.8 0H284.2c12.1 0 23.2 6.8 28.6 17.7L320 32h96c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 96 0 81.7 0 64S14.3 32 32 32h96l7.2-14.3zM32 128H416V448c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V128zm96 64c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16zm96 0c-8.8 0-16 7.2-16 16V432c0 8.8 7.2 16 16 16s16-7.2 16-16V208c0-8.8-7.2-16-16-16z"\n    />\n  </svg>',r.classList.add("check"),n.classList.add("newItem"),o.textContent="".concat(e.title),n.appendChild(r),n.appendChild(o),n.appendChild(s),n.appendChild(i),n.appendChild(c),n.appendChild(l),n.appendChild(a),t.appendChild(n)}function s(){var e,t=o(document.querySelector("#projectList").children);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.classList.contains("selected"))return n.innerText}}catch(e){t.e(e)}finally{t.f()}}function u(){return{getForm:function(){var e=s();l=JSON.parse(localStorage.getItem("".concat(e)))||[];var t=document.querySelector("#newTypeForm"),n=Object.fromEntries(new FormData(t).entries()),r=new a(n.title,n.desc,n.date,n.priority);l.push(r),localStorage.setItem("".concat(e),JSON.stringify(l)),document.querySelector(".addNewBoxBackground").style.display="none",document.querySelector("#newTypeForm").reset()},changeTask:function(){var e=document.querySelector("#newTypeForm"),t=document.querySelector("#newProjectForm");e.style.display="flex",t.style.display="none";var n=document.querySelector("#popupTask"),r=document.querySelector("#popupProject");n.classList.add("miniSelected"),r.classList.remove("miniSelected")},changeProject:function(){var e=document.querySelector("#newTypeForm"),t=document.querySelector("#newProjectForm");e.style.display="none",t.style.display="flex";var n=document.querySelector("#popupTask"),r=document.querySelector("#popupProject");n.classList.remove("miniSelected"),r.classList.add("miniSelected")},createP:function(){var e=document.querySelector("#newProjectForm"),t=Object.fromEntries(new FormData(e).entries());console.log(t),null===localStorage.getItem("".concat(t.projectTitle))?(localStorage.setItem("".concat(t.projectTitle),JSON.stringify([])),document.querySelector(".addNewBoxBackground").style.display="none"):console.log("Already used!"),document.querySelector("#newProjectForm").reset()},listTask:function(){var e=[],t=document.querySelector(".taskContent"),n=document.querySelector("#projectList");t.innerHTML="";var r,c=o(n.children);try{for(c.s();!(r=c.n()).done;){var a=r.value;a.classList.contains("selected")&&(e=JSON.parse(localStorage.getItem("".concat(a.outerText)))||[])}}catch(e){c.e(e)}finally{c.f()}for(var l in e)i(e[l])},removeTask:function(e){var t=JSON.parse(localStorage.getItem("".concat(s())));t.splice(e,1),localStorage.setItem("".concat(s()),JSON.stringify(t)),u().listTask(),p()},listProject:function(){var e=document.querySelector("#projectList"),t=function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?n(Object(o),!0).forEach((function(t){r(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}({},localStorage),c=Object.keys(t).sort();e.innerHTML="";var a=document.createElement("li");a.classList.add("selected"),a.classList.add("projects"),a.textContent="Todo",e.appendChild(a);var l,i=o(c);try{for(i.s();!(l=i.n()).done;){var s=l.value,u=document.createElement("li");u.textContent="".concat(s),u.classList.add("projects"),"todo"!==s&&e.appendChild(u)}}catch(e){i.e(e)}finally{i.f()}},headTask:function(){var e=s();l=JSON.parse(localStorage.getItem("".concat(e)))||[];var t=document.querySelector("#head-form"),n=new a(Object.fromEntries(new FormData(t).entries()).title);l.push(n),localStorage.setItem("".concat(e),JSON.stringify(l)),document.querySelector(".addNewBoxBackground").style.display="none",document.querySelector("#head-form").reset()}}}function d(){return{createTask:function(){u().getForm()},createProject:function(){u().createP()},createHead:function(){u().headTask()},checked:function(){}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){var n=document.getElementById(e);return n.currentStyle?n.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(n,null).getPropertyValue(t):null}function f(){var e=document.querySelectorAll(".projects"),t=document.querySelector("#projectList");e.forEach((function(e){e.addEventListener("click",(function(n){var r,o=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){l=!0,c=e},f:function(){try{a||null==n.return||n.return()}finally{if(l)throw c}}}}(t.children);try{for(o.s();!(r=o.n()).done;){var c=r.value;c.classList.contains("selected")&&(c.classList.remove("selected"),e.classList.add("selected"),u().listTask(),v(),g())}}catch(e){o.e(e)}finally{o.f()}}))}))}function p(){document.querySelectorAll(".taskRemove").forEach((function(e){e.addEventListener("click",(function(e){var t=s(),n=JSON.parse(localStorage.getItem("".concat(t))),r=e.target.closest("div").dataset.task;for(var o in n)r===n[o].title&&u().removeTask(o)}))}))}function v(){document.querySelectorAll(".newItem").forEach((function(e){e.addEventListener("click",(function(t){var n=t.target.closest("div");e.classList.contains("pullout")?(e.classList.remove("pullout"),n.childNodes[3].style.display="none"):(e.classList.add("pullout"),n.childNodes[3].style.display="block")}))}))}function g(){document.querySelectorAll(".check").forEach((function(e){e.addEventListener("click",(function(t){event.stopPropagation();var n=t.target.closest("div");console.log(n),"line-through"===n.parentNode.childNodes[1].style.textDecoration?(n.parentNode.childNodes[1].style.textDecoration="none",e.innerHTML=""):(n.parentNode.childNodes[1].style.textDecoration="line-through",e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512">\x3c!--! Font Awesome Pro 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2023 Fonticons, Inc. --\x3e<path d="M470.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L192 338.7 425.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>')}))}))}console.log("test"),u().listProject(),u().listTask(),window.addEventListener("load",(function(){JSON.parse(localStorage.getItem("todo"))})),document.querySelector("#addButton").addEventListener("click",(function(){var e=document.querySelector(".addNewBoxBackground");e.style.display="flex",window.addEventListener("keyup",(function(t){"Escape"===t.key&&(e.style.display="none",document.querySelector("#newTypeForm").reset())}))})),document.querySelectorAll("#newButton").forEach((function(e){e.addEventListener("click",(function(){event.preventDefault(),"flex"===m("newTypeForm","display")?(d().createTask(),u().listTask(),v(),p(),f(),g()):"none"===m("newTypeForm","display")&&(d().createProject(),u().listProject(),v(),p(),f(),g())}))})),document.querySelector("#head-submit").addEventListener("click",(function(e){event.preventDefault(),d().createHead(),u().listTask(),v(),p(),f(),g()})),document.querySelectorAll(".popupSelector").forEach((function(e){e.addEventListener("click",(function(t){"popupProject"===e.id?u().changeProject():u().changeTask()}))})),f(),p(),v(),g()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQ0EsSUFBSUEsRUFBc0IsQ0NBMUJBLEVBQXdCLENBQUNDLEVBQVNDLEtBQ2pDLElBQUksSUFBSUMsS0FBT0QsRUFDWEYsRUFBb0JJLEVBQUVGLEVBQVlDLEtBQVNILEVBQW9CSSxFQUFFSCxFQUFTRSxJQUM1RUUsT0FBT0MsZUFBZUwsRUFBU0UsRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRILEVBQXdCLENBQUNTLEVBQUtDLElBQVVMLE9BQU9NLFVBQVVDLGVBQWVDLEtBQUtKLEVBQUtDLEksdzJEQ0VsRixTQUFTSSxFQUFLQyxFQUFPQyxFQUFNQyxFQUFNQyxHQUM5QkMsS0FBS0osTUFBUUEsRUFDWEksS0FBS0gsS0FBT0EsRUFDWkcsS0FBS0YsS0FBT0EsRUFDWkUsS0FBS0QsTUFBUUEsQ0FDbEIsQyxtQkFFQSxJQUFJRSxFQUFRQyxLQUFLQyxNQUFNQyxhQUFhQyxRQUFRLFVBQVksR0FFeEQsU0FBU0MsRUFBWWhCLEdBQ25CLElBQU1pQixFQUFVQyxTQUFTQyxjQUFjLGdCQUNqQ0MsRUFBTUYsU0FBU0csY0FBYyxPQUM3QkMsRUFBUUosU0FBU0csY0FBYyxPQUMvQkUsRUFBSUwsU0FBU0csY0FBYyxLQUMzQkcsRUFBUU4sU0FBU0csY0FBYyxLQUNyQ0csRUFBTUMsWUFBYyxrQkFDcEJELEVBQU1FLFVBQVVDLElBQUksU0FDcEIsSUFBTUMsRUFBU1YsU0FBU0csY0FBYyxVQUNoQ1EsRUFBVVgsU0FBU0csY0FBYyxVQUNqQ1MsRUFBVVosU0FBU0csY0FBYyxPQUN2Q1MsRUFBUUwsWUFBYyxnQkFBSE0sT0FBbUIvQixFQUFJTyxNQUMxQ3VCLEVBQVFKLFVBQVVDLElBQUksUUFDdEIsSUFBTW5CLEVBQU9VLFNBQVNHLGNBQWMsS0FDcENRLEVBQVFKLFlBQWMsV0FDdEJJLEVBQVFILFVBQVVDLElBQUksV0FDSixRQUFkM0IsRUFBSVMsTUFBaUJvQixFQUFRRyxNQUFNQyxnQkFBa0IsUUFDbEMsUUFBZGpDLEVBQUlTLE9BQ1RvQixFQUFRRyxNQUFNQyxnQkFBa0IsU0FDaENKLEVBQVFHLE1BQU1FLE1BQVEsU0FFckJMLEVBQVFHLE1BQU1DLGdCQUFrQixVQUNyQ3pCLEVBQUtpQixZQUFjLFdBQUhNLE9BQWMvQixFQUFJUSxNQUNsQ0EsRUFBS2tCLFVBQVVDLElBQUksWUFDbkJDLEVBQU9GLFVBQVVDLElBQUksY0FDckJQLEVBQUllLFFBQVFDLEtBQU8sR0FBSEwsT0FBTS9CLEVBQUlNLE9BQzFCc0IsRUFBT1MsVUFBWSxpbEJBS25CZixFQUFNSSxVQUFVQyxJQUFJLFNBQ3BCUCxFQUFJTSxVQUFVQyxJQUFJLFdBQ2xCSixFQUFFRSxZQUFjLEdBQUhNLE9BQU0vQixFQUFJTSxPQUN2QmMsRUFBSWtCLFlBQVloQixHQUNoQkYsRUFBSWtCLFlBQVlmLEdBQ2hCSCxFQUFJa0IsWUFBWTlCLEdBQ2hCWSxFQUFJa0IsWUFBWVIsR0FDaEJWLEVBQUlrQixZQUFZZCxHQUNoQkosRUFBSWtCLFlBQVlULEdBQ2hCVCxFQUFJa0IsWUFBWVYsR0FDaEJYLEVBQVFxQixZQUFZbEIsRUFDdEIsQ0FFQSxTQUFTbUIsSUFDUCxJQUMrQkMsRUFEeUJDLEVBQUFDLEVBQXZDeEIsU0FBU0MsY0FBYyxnQkFDakJ3QixVQUFRLElBQS9CLElBQUFGLEVBQUFHLE1BQUFKLEVBQUFDLEVBQUFJLEtBQUFDLE1BQWlDLEtBQXhCQyxFQUFDUCxFQUFBUSxNQUNSLEdBQUlELEVBQUVyQixVQUFVdUIsU0FBUyxZQUN2QixPQUFPRixFQUFFRyxTQUViLENBQUMsT0FBQUMsR0FBQVYsRUFBQVcsRUFBQUQsRUFBQSxTQUFBVixFQUFBWSxHQUFBLENBQ0gsQ0FFQSxTQUFTQyxJQStHUCxNQUFPLENBQ0xDLFFBL0djLFdBQ2QsSUFBSUMsRUFBVWpCLElBQ2Q1QixFQUFRQyxLQUFLQyxNQUFNQyxhQUFhQyxRQUFRLEdBQURnQixPQUFJeUIsTUFBZSxHQUMxRCxJQUFNQyxFQUFPdkMsU0FBU0MsY0FBYyxnQkFDOUJ1QyxFQUFXOUQsT0FBTytELFlBQVksSUFBSUMsU0FBU0gsR0FBTUksV0FDakR6QixFQUFPLElBQUkvQixFQUNmcUQsRUFBU3BELE1BQ1RvRCxFQUFTbkQsS0FDVG1ELEVBQVNsRCxLQUNUa0QsRUFBU0ksVUFFWG5ELEVBQU1vRCxLQUFLM0IsR0FDWHRCLGFBQWFrRCxRQUFRLEdBQURqQyxPQUFJeUIsR0FBVzVDLEtBQUtxRCxVQUFVdEQsSUFFL0JPLFNBQVNDLGNBQWMsd0JBQy9CYSxNQUFNa0MsUUFBVSxPQUUzQmhELFNBQVNDLGNBQWMsZ0JBQWdCZ0QsT0FDekMsRUE4RkVDLFdBbkZpQixXQUNqQixJQUFNQyxFQUFPbkQsU0FBU0MsY0FBYyxnQkFDOUJxQyxFQUFVdEMsU0FBU0MsY0FBYyxtQkFDdkNrRCxFQUFLckMsTUFBTWtDLFFBQVUsT0FDckJWLEVBQVF4QixNQUFNa0MsUUFBVSxPQUN4QixJQUFNSSxFQUFhcEQsU0FBU0MsY0FBYyxjQUNwQ29ELEVBQWdCckQsU0FBU0MsY0FBYyxpQkFDN0NtRCxFQUFXNUMsVUFBVUMsSUFBSSxnQkFDekI0QyxFQUFjN0MsVUFBVThDLE9BQU8sZUFDakMsRUEyRUVDLGNBOUZvQixXQUNwQixJQUFNSixFQUFPbkQsU0FBU0MsY0FBYyxnQkFDOUJxQyxFQUFVdEMsU0FBU0MsY0FBYyxtQkFDdkNrRCxFQUFLckMsTUFBTWtDLFFBQVUsT0FDckJWLEVBQVF4QixNQUFNa0MsUUFBVSxPQUN4QixJQUFNSSxFQUFhcEQsU0FBU0MsY0FBYyxjQUNwQ29ELEVBQWdCckQsU0FBU0MsY0FBYyxpQkFDN0NtRCxFQUFXNUMsVUFBVThDLE9BQU8sZ0JBQzVCRCxFQUFjN0MsVUFBVUMsSUFBSSxlQUM5QixFQXNGRStDLFFBM0VjLFdBQ2QsSUFBTUMsRUFBVXpELFNBQVNDLGNBQWMsbUJBQ2pDdUMsRUFBVzlELE9BQU8rRCxZQUFZLElBQUlDLFNBQVNlLEdBQVNkLFdBQzFEZSxRQUFRQyxJQUFJbkIsR0FFNkMsT0FBckQ1QyxhQUFhQyxRQUFRLEdBQURnQixPQUFJMkIsRUFBU29CLGdCQUNuQ2hFLGFBQWFrRCxRQUFRLEdBQURqQyxPQUFJMkIsRUFBU29CLGNBQWdCbEUsS0FBS3FELFVBRjVDLEtBR1MvQyxTQUFTQyxjQUFjLHdCQUMvQmEsTUFBTWtDLFFBQVUsUUFDdEJVLFFBQVFDLElBQUksaUJBQ25CM0QsU0FBU0MsY0FBYyxtQkFBbUJnRCxPQUU1QyxFQWdFRVksU0EvRGUsV0FDZixJQUFJcEUsRUFBUSxHQUNOcUUsRUFBWTlELFNBQVNDLGNBQWMsZ0JBQ25DOEQsRUFBVy9ELFNBQVNDLGNBQWMsZ0JBQ3hDNkQsRUFBVTNDLFVBQVksR0FBRyxJQUNNNkMsRUFETkMsRUFBQXpDLEVBQ1h1QyxFQUFTdEMsVUFBUSxJQUEvQixJQUFBd0MsRUFBQXZDLE1BQUFzQyxFQUFBQyxFQUFBdEMsS0FBQUMsTUFBaUMsS0FBeEJDLEVBQUNtQyxFQUFBbEMsTUFDSkQsRUFBRXJCLFVBQVV1QixTQUFTLGNBQ3ZCdEMsRUFDRUMsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxHQUFEZ0IsT0FBSWdCLEVBQUVxQyxjQUNyQyxHQUVOLENBQUMsT0FBQWpDLEdBQUFnQyxFQUFBL0IsRUFBQUQsRUFBQSxTQUFBZ0MsRUFBQTlCLEdBQUEsQ0FDRCxJQUFLLElBQUlqQixLQUFRekIsRUFDZkssRUFBWUwsRUFBTXlCLEdBRXRCLEVBaURFaUQsV0E3QmlCLFNBQUNDLEdBQ2xCLElBQU05QixFQUFVNUMsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxHQUFEZ0IsT0FBSVEsT0FDbkRpQixFQUFRK0IsT0FBT0QsRUFBSyxHQUNwQnhFLGFBQWFrRCxRQUFRLEdBQURqQyxPQUFJUSxLQUFxQjNCLEtBQUtxRCxVQUFVVCxJQUM1REYsSUFBVXlCLFdBQ1ZTLEdBQ0YsRUF3QkVDLFlBakRrQixXQUNsQixJQUFNQyxFQUFjeEUsU0FBU0MsY0FBYyxnQkFDckN3RSxFLCtWQUFRQyxDQUFBLEdBQU85RSxjQUNmK0UsRUFBU2pHLE9BQU9rRyxLQUFLSCxHQUFVSSxPQUNyQ0wsRUFBWXJELFVBQVksR0FDeEIsSUFBTTJELEVBQUs5RSxTQUFTRyxjQUFjLE1BQ2xDMkUsRUFBR3RFLFVBQVVDLElBQUksWUFDakJxRSxFQUFHdEUsVUFBVUMsSUFBSSxZQUNqQnFFLEVBQUd2RSxZQUFjLE9BQ2pCaUUsRUFBWXBELFlBQVkwRCxHQUFHLElBQ0RDLEVBRENDLEVBQUF4RCxFQUNQbUQsR0FBTSxJQUExQixJQUFBSyxFQUFBdEQsTUFBQXFELEVBQUFDLEVBQUFyRCxLQUFBQyxNQUE0QixLQUFuQlUsRUFBT3lDLEVBQUFqRCxNQUNQZ0QsRUFBSzlFLFNBQVNHLGNBQWMsTUFDbEMyRSxFQUFHdkUsWUFBYyxHQUFITSxPQUFNeUIsR0FDcEJ3QyxFQUFHdEUsVUFBVUMsSUFBSSxZQUNELFNBQVo2QixHQUNDa0MsRUFBWXBELFlBQVkwRCxFQUNoQyxDQUFDLE9BQUE3QyxHQUFBK0MsRUFBQTlDLEVBQUFELEVBQUEsU0FBQStDLEVBQUE3QyxHQUFBLENBRUgsRUFnQ0U4QyxTQXhCZSxXQUNmLElBQUkzQyxFQUFVakIsSUFDZDVCLEVBQVFDLEtBQUtDLE1BQU1DLGFBQWFDLFFBQVEsR0FBRGdCLE9BQUl5QixNQUFlLEdBQzFELElBQU1DLEVBQU92QyxTQUFTQyxjQUFjLGNBRTlCaUIsRUFBTyxJQUFJL0IsRUFEQVQsT0FBTytELFlBQVksSUFBSUMsU0FBU0gsR0FBTUksV0FFNUN2RCxPQUVYSyxFQUFNb0QsS0FBSzNCLEdBQ1h0QixhQUFha0QsUUFBUSxHQUFEakMsT0FBSXlCLEdBQVc1QyxLQUFLcUQsVUFBVXRELElBRS9CTyxTQUFTQyxjQUFjLHdCQUMvQmEsTUFBTWtDLFFBQVUsT0FFM0JoRCxTQUFTQyxjQUFjLGNBQWNnRCxPQUN2QyxFQVdGLENDcExBLFNBQVNpQyxJQWlCUCxNQUFPLENBQ0xDLFdBakJpQixXQUVDL0MsSUFDUkMsU0FDWixFQWNFK0MsY0Fib0IsV0FDRmhELElBQ1JvQixTQUNaLEVBV0U2QixXQVZpQixXQUNqQmpELElBQVU2QyxVQUNaLEVBU0VLLFFBUmMsV0FFaEIsRUFRRixDLDBHQ0RBLFNBQVNDLEVBQVNDLEVBQUlDLEdBQ3BCLElBQUlDLEVBQVUxRixTQUFTMkYsZUFBZUgsR0FDdEMsT0FBT0UsRUFBUUUsYUFDWEYsRUFBUUUsYUFBYUgsR0FDckJJLE9BQU9DLGlCQUNQRCxPQUFPQyxpQkFBaUJKLEVBQVMsTUFBTUssaUJBQWlCTixHQUN4RCxJQUNOLENBdURPLFNBQVNPLElBQ2QsSUFBTXZCLEVBQVd6RSxTQUFTaUcsaUJBQWlCLGFBQ3JDQyxFQUFhbEcsU0FBU0MsY0FBYyxnQkFDMUN3RSxFQUFTMEIsU0FBUSxTQUFDQyxHQUNoQkEsRUFBRUMsaUJBQWlCLFNBQVMsU0FBQ25FLEdBQU0sSUFDSVosRUFESkMsRSwyNUJBQUFDLENBQ2YwRSxFQUFXekUsVUFBUSxJQUFyQyxJQUFBRixFQUFBRyxNQUFBSixFQUFBQyxFQUFBSSxLQUFBQyxNQUF1QyxLQUE5QjBFLEVBQUtoRixFQUFBUSxNQUNSd0UsRUFBTTlGLFVBQVV1QixTQUFTLGNBQzNCdUUsRUFBTTlGLFVBQVU4QyxPQUFPLFlBQ3ZCOEMsRUFBRTVGLFVBQVVDLElBQUksWUFDaEIyQixJQUFVeUIsV0FDVmpELElBQ0EyRixJQUVKLENBQUMsT0FBQXRFLEdBQUFWLEVBQUFXLEVBQUFELEVBQUEsU0FBQVYsRUFBQVksR0FBQSxDQUNILEdBQ0YsR0FDRixDQUlPLFNBQVNtQyxJQUNFdEUsU0FBU2lHLGlCQUFpQixlQUNsQ0UsU0FBUSxTQUFDekYsR0FDZkEsRUFBTzJGLGlCQUFpQixTQUFTLFNBQUNuRSxHQUNoQyxJQUFNNkIsRUFBVzFDLElBQ1htRixFQUFROUcsS0FBS0MsTUFBTUMsYUFBYUMsUUFBUSxHQUFEZ0IsT0FBSWtELEtBRzNDakMsRUFGVUksRUFBRXVFLE9BQ0tDLFFBQVEsT0FDVnpGLFFBQVFDLEtBQzdCLElBQUssSUFBSUEsS0FBUXNGLEVBQ1gxRSxJQUFVMEUsRUFBTXRGLEdBQU05QixPQUN4QmdELElBQVUrQixXQUFXakQsRUFHM0IsR0FDRixHQUNGLENBSU8sU0FBU04sSUFDQVosU0FBU2lHLGlCQUFpQixZQUNsQ0UsU0FBUSxTQUFDakYsR0FDYkEsRUFBS21GLGlCQUFpQixTQUFTLFNBQUNuRSxHQUM5QixJQUNNeUUsRUFEVXpFLEVBQUV1RSxPQUNLQyxRQUFRLE9BQzNCeEYsRUFBS1YsVUFBVXVCLFNBQVMsWUFDMUJiLEVBQUtWLFVBQVU4QyxPQUFPLFdBQ3RCcUQsRUFBT0MsV0FBVyxHQUFHOUYsTUFBTWtDLFFBQVUsU0FFckM5QixFQUFLVixVQUFVQyxJQUFJLFdBQ25Ca0csRUFBT0MsV0FBVyxHQUFHOUYsTUFBTWtDLFFBQVUsUUFFekMsR0FDRixHQUNGLENBSUEsU0FBU3VELElBQ1N2RyxTQUFTaUcsaUJBQWlCLFVBQ2xDRSxTQUFRLFNBQUFDLEdBQ1ZBLEVBQUVDLGlCQUFpQixTQUFTLFNBQUFuRSxHQUN4QjJFLE1BQU1DLGtCQUNOLElBQU1ILEVBQVN6RSxFQUFFdUUsT0FBT0MsUUFBUSxPQUNoQ2hELFFBQVFDLElBQUlnRCxHQUVPLGlCQURBQSxFQUFPSSxXQUFXSCxXQUFXLEdBQUc5RixNQUFNa0csZ0JBRXJETCxFQUFPSSxXQUFXSCxXQUFXLEdBQUc5RixNQUFNa0csZUFBaUIsT0FDdkRaLEVBQUVqRixVQUFZLEtBRWR3RixFQUFPSSxXQUFXSCxXQUFXLEdBQUc5RixNQUFNa0csZUFBaUIsZUFDdkRaLEVBQUVqRixVQUFZLHFiQUV0QixHQUNKLEdBQ0osQ0FqS0F1QyxRQUFRQyxJQUFJLFFBQ1p2QixJQUFVbUMsY0FDVm5DLElBQVV5QixXQUVWZ0MsT0FBT1EsaUJBQWlCLFFBQVEsV0FDYjNHLEtBQUtDLE1BQU1DLGFBQWFDLFFBQVEsUUFDbkQsSUFHZUcsU0FBU0MsY0FBYyxjQUMvQm9HLGlCQUFpQixTQUFTLFdBQy9CLElBQU1ZLEVBQVFqSCxTQUFTQyxjQUFjLHdCQUNyQ2dILEVBQU1uRyxNQUFNa0MsUUFBVSxPQUV0QjZDLE9BQU9RLGlCQUFpQixTQUFTLFNBQUNuRSxHQUNsQixXQUFWQSxFQUFFMUQsTUFDSnlJLEVBQU1uRyxNQUFNa0MsUUFBVSxPQUN0QmhELFNBQVNDLGNBQWMsZ0JBQWdCZ0QsUUFFM0MsR0FDRixJQWFpQmpELFNBQVNpRyxpQkFBaUIsY0FDbENFLFNBQVEsU0FBQ2MsR0FDaEJBLEVBQU1aLGlCQUFpQixTQUFTLFdBQzlCUSxNQUFNSyxpQkFDcUMsU0FBdkMzQixFQUFTLGNBQWUsWUFDUEwsSUFDUkMsYUFDWC9DLElBQVV5QixXQUNWakQsSUFDQTBELElBQ0EwQixJQUNBTyxLQUNnRCxTQUF2Q2hCLEVBQVMsY0FBZSxhQUNkTCxJQUNSRSxnQkFDWGhELElBQVVtQyxjQUNWM0QsSUFDQTBELElBQ0EwQixJQUNBTyxJQUVKLEdBQ0YsSUFHbUJ2RyxTQUFTQyxjQUFjLGdCQUMvQm9HLGlCQUFpQixTQUFTLFNBQUFuRSxHQUNqQzJFLE1BQU1LLGlCQUNOaEMsSUFBVUcsYUFDVmpELElBQVV5QixXQUNWakQsSUFDQTBELElBQ0EwQixJQUNBTyxHQUVKLElBR21CdkcsU0FBU2lHLGlCQUFpQixrQkFDbENFLFNBQVEsU0FBQ2hELEdBQ2xCQSxFQUFLa0QsaUJBQWlCLFNBQVMsU0FBQ25FLEdBQ2QsaUJBQVppQixFQUFLcUMsR0FDS3BELElBQ1JtQixnQkFFUW5CLElBQ1JjLFlBRVIsR0FDRixJQW9CQThDLElBb0JBMUIsSUFtQkExRCxJQXFCQTJGLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvZG9tLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RvLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBUaGUgcmVxdWlyZSBzY29wZVxudmFyIF9fd2VicGFja19yZXF1aXJlX18gPSB7fTtcblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsImltcG9ydCB7ZGVsZXRlcn0gZnJvbSAnLi9pbmRleC5qcyc7XHJcblxyXG5mdW5jdGlvbiBUYXNrKHRpdGxlLCBkZXNjLCBkYXRlLCBwcmlvcikge1xyXG4gICh0aGlzLnRpdGxlID0gdGl0bGUpLFxyXG4gICAgKHRoaXMuZGVzYyA9IGRlc2MpLFxyXG4gICAgKHRoaXMuZGF0ZSA9IGRhdGUpLFxyXG4gICAgKHRoaXMucHJpb3IgPSBwcmlvcik7XHJcbn1cclxuXHJcbmxldCB0b2RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ0b2RvXCIpKSB8fCBbXTtcclxuXHJcbmZ1bmN0aW9uIGRpc3BsYXlUYXNrKG9iaikge1xyXG4gIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tDb250ZW50XCIpO1xyXG4gIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgY29uc3QgY2hlY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICBjb25zdCBjbGljayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKVxyXG4gIGNsaWNrLnRleHRDb250ZW50ID0gJ0NsaWNrIHRvIGV4cGFuZCdcclxuICBjbGljay5jbGFzc0xpc3QuYWRkKCdjbGljaycpXHJcbiAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBjb25zdCBkZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtcclxuICBjb25zdCBwdWxsb3V0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JylcclxuICBwdWxsb3V0LnRleHRDb250ZW50ID0gYERlc2NyaXB0aW9uOiAke29iai5kZXNjfWBcclxuICBwdWxsb3V0LmNsYXNzTGlzdC5hZGQoJ2Rlc2MnKVxyXG4gIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuICBkZXRhaWxzLnRleHRDb250ZW50ID0gXCJQcmlvcml0eVwiO1xyXG4gIGRldGFpbHMuY2xhc3NMaXN0LmFkZChcImRldGFpbHNcIik7XHJcbiAgaWYgKG9iai5wcmlvciA9PT0gJ2xvdycpIGRldGFpbHMuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ2dyZWVuJ1xyXG4gIGVsc2UgaWYgKG9iai5wcmlvciA9PT0gJ21lZCcpIHtcclxuICAgICAgZGV0YWlscy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAneWVsbG93J1xyXG4gICAgICBkZXRhaWxzLnN0eWxlLmNvbG9yID0gJ2JsYWNrJ1xyXG4gIH0gXHJcbiAgZWxzZSBkZXRhaWxzLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICdjcmltc29uJ1xyXG4gIGRhdGUudGV4dENvbnRlbnQgPSBgRHVlIEJ5OiAke29iai5kYXRlfWA7XHJcbiAgZGF0ZS5jbGFzc0xpc3QuYWRkKFwidGFza0RhdGVcIik7XHJcbiAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJ0YXNrUmVtb3ZlXCIpO1xyXG4gIGRpdi5kYXRhc2V0LnRhc2sgPSBgJHtvYmoudGl0bGV9YDtcclxuICBidXR0b24uaW5uZXJIVE1MID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNDQ4IDUxMlwiPlxyXG4gICAgPHBhdGhcclxuICAgICAgZD1cIk0xMzUuMiAxNy43QzE0MC42IDYuOCAxNTEuNyAwIDE2My44IDBIMjg0LjJjMTIuMSAwIDIzLjIgNi44IDI4LjYgMTcuN0wzMjAgMzJoOTZjMTcuNyAwIDMyIDE0LjMgMzIgMzJzLTE0LjMgMzItMzIgMzJIMzJDMTQuMyA5NiAwIDgxLjcgMCA2NFMxNC4zIDMyIDMyIDMyaDk2bDcuMi0xNC4zek0zMiAxMjhINDE2VjQ0OGMwIDM1LjMtMjguNyA2NC02NCA2NEg5NmMtMzUuMyAwLTY0LTI4LjctNjQtNjRWMTI4em05NiA2NGMtOC44IDAtMTYgNy4yLTE2IDE2VjQzMmMwIDguOCA3LjIgMTYgMTYgMTZzMTYtNy4yIDE2LTE2VjIwOGMwLTguOC03LjItMTYtMTYtMTZ6bTk2IDBjLTguOCAwLTE2IDcuMi0xNiAxNlY0MzJjMCA4LjggNy4yIDE2IDE2IDE2czE2LTcuMiAxNi0xNlYyMDhjMC04LjgtNy4yLTE2LTE2LTE2em05NiAwYy04LjggMC0xNiA3LjItMTYgMTZWNDMyYzAgOC44IDcuMiAxNiAxNiAxNnMxNi03LjIgMTYtMTZWMjA4YzAtOC44LTcuMi0xNi0xNi0xNnpcIlxyXG4gICAgLz5cclxuICA8L3N2Zz5gO1xyXG4gIGNoZWNrLmNsYXNzTGlzdC5hZGQoXCJjaGVja1wiKTtcclxuICBkaXYuY2xhc3NMaXN0LmFkZChcIm5ld0l0ZW1cIik7XHJcbiAgcC50ZXh0Q29udGVudCA9IGAke29iai50aXRsZX1gO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChjaGVjayk7XHJcbiAgZGl2LmFwcGVuZENoaWxkKHApO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChkYXRlKTtcclxuICBkaXYuYXBwZW5kQ2hpbGQocHVsbG91dClcclxuICBkaXYuYXBwZW5kQ2hpbGQoY2xpY2spXHJcbiAgZGl2LmFwcGVuZENoaWxkKGRldGFpbHMpO1xyXG4gIGRpdi5hcHBlbmRDaGlsZChidXR0b24pO1xyXG4gIGNvbnRlbnQuYXBwZW5kQ2hpbGQoZGl2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2VsZWN0ZWRQcm9qZWN0KCkge1xyXG4gIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0TGlzdFwiKTtcclxuICBmb3IgKGxldCBpIG9mIHNlbGVjdGVkLmNoaWxkcmVuKSB7XHJcbiAgICBpZiAoaS5jbGFzc0xpc3QuY29udGFpbnMoXCJzZWxlY3RlZFwiKSkge1xyXG4gICAgICByZXR1cm4gaS5pbm5lclRleHQ7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkb21UaW1lKCkge1xyXG4gIGNvbnN0IGdldEZvcm0gPSAoKSA9PiB7XHJcbiAgICBsZXQgcHJvamVjdCA9IHNlbGVjdGVkUHJvamVjdCgpO1xyXG4gICAgdG9kb3MgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke3Byb2plY3R9YCkpIHx8IFtdO1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3VHlwZUZvcm1cIik7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyhuZXcgRm9ybURhdGEoZm9ybSkuZW50cmllcygpKTtcclxuICAgIGNvbnN0IHRhc2sgPSBuZXcgVGFzayhcclxuICAgICAgZm9ybURhdGEudGl0bGUsXHJcbiAgICAgIGZvcm1EYXRhLmRlc2MsXHJcbiAgICAgIGZvcm1EYXRhLmRhdGUsXHJcbiAgICAgIGZvcm1EYXRhLnByaW9yaXR5XHJcbiAgICApO1xyXG4gICAgdG9kb3MucHVzaCh0YXNrKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke3Byb2plY3R9YCwgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcclxuICAgIC8vIGNsZWFycyBwb3B1cFxyXG4gICAgY29uc3QgYmFja2dyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkTmV3Qm94QmFja2dyb3VuZFwiKTtcclxuICAgIGJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgLy8gY2xlYXJzIGZvcm0gY29udGVudFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXdUeXBlRm9ybVwiKS5yZXNldCgpO1xyXG4gIH07XHJcbiAgY29uc3QgY2hhbmdlUHJvamVjdCA9ICgpID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ld1R5cGVGb3JtXCIpO1xyXG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3UHJvamVjdEZvcm1cIik7XHJcbiAgICB0eXBlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIHByb2plY3Quc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gICAgY29uc3QgdHlwZVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBUYXNrXCIpO1xyXG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBQcm9qZWN0XCIpO1xyXG4gICAgdHlwZVNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKFwibWluaVNlbGVjdGVkXCIpO1xyXG4gICAgcHJvamVjdFNlbGVjdC5jbGFzc0xpc3QuYWRkKFwibWluaVNlbGVjdGVkXCIpO1xyXG4gIH07XHJcbiAgY29uc3QgY2hhbmdlVGFzayA9ICgpID0+IHtcclxuICAgIGNvbnN0IHR5cGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ld1R5cGVGb3JtXCIpO1xyXG4gICAgY29uc3QgcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbmV3UHJvamVjdEZvcm1cIik7XHJcbiAgICB0eXBlLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuICAgIHByb2plY3Quc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgY29uc3QgdHlwZVNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBUYXNrXCIpO1xyXG4gICAgY29uc3QgcHJvamVjdFNlbGVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXBQcm9qZWN0XCIpO1xyXG4gICAgdHlwZVNlbGVjdC5jbGFzc0xpc3QuYWRkKFwibWluaVNlbGVjdGVkXCIpO1xyXG4gICAgcHJvamVjdFNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKFwibWluaVNlbGVjdGVkXCIpO1xyXG4gIH07XHJcbiAgY29uc3QgY3JlYXRlUCA9ICgpID0+IHtcclxuICAgIGNvbnN0IG5ld1Byb2ogPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI25ld1Byb2plY3RGb3JtXCIpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBPYmplY3QuZnJvbUVudHJpZXMobmV3IEZvcm1EYXRhKG5ld1Byb2opLmVudHJpZXMoKSk7XHJcbiAgICBjb25zb2xlLmxvZyhmb3JtRGF0YSlcclxuICAgIGNvbnN0IGFyciA9IFtdO1xyXG4gICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKGAke2Zvcm1EYXRhLnByb2plY3RUaXRsZX1gKSA9PT0gbnVsbCkge1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShgJHtmb3JtRGF0YS5wcm9qZWN0VGl0bGV9YCwgSlNPTi5zdHJpbmdpZnkoYXJyKSk7XHJcbiAgICAgIGNvbnN0IGJhY2tncm91bmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZE5ld0JveEJhY2tncm91bmRcIik7XHJcbiAgICAgIGJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfSBlbHNlIGNvbnNvbGUubG9nKFwiQWxyZWFkeSB1c2VkIVwiKTtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuZXdQcm9qZWN0Rm9ybScpLnJlc2V0KCk7XHJcbiAgICBcclxuICB9O1xyXG4gIGNvbnN0IGxpc3RUYXNrID0gKCkgPT4ge1xyXG4gICAgbGV0IHRvZG9zID0gW107XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhc2tDb250ZW50XCIpO1xyXG4gICAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3RMaXN0XCIpO1xyXG4gICAgY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBmb3IgKGxldCBpIG9mIHNlbGVjdGVkLmNoaWxkcmVuKSB7XHJcbiAgICAgIGlmIChpLmNsYXNzTGlzdC5jb250YWlucyhcInNlbGVjdGVkXCIpKSB7XHJcbiAgICAgICAgdG9kb3MgPVxyXG4gICAgICAgICAgSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtpLm91dGVyVGV4dH1gKSkgfHxcclxuICAgICAgICAgIFtdO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGxldCB0YXNrIGluIHRvZG9zKSB7XHJcbiAgICAgIGRpc3BsYXlUYXNrKHRvZG9zW3Rhc2tdKTtcclxuICAgIH1cclxuICB9O1xyXG4gIGNvbnN0IGxpc3RQcm9qZWN0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcHJvamVjdGxpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcHJvamVjdExpc3QnKVxyXG4gICAgY29uc3QgcHJvamVjdHMgPSB7Li4ubG9jYWxTdG9yYWdlfVxyXG4gICAgY29uc3Qgc29ydGVkID0gT2JqZWN0LmtleXMocHJvamVjdHMpLnNvcnQoKVxyXG4gICAgcHJvamVjdGxpc3QuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJylcclxuICAgIGxpLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RzJylcclxuICAgIGxpLnRleHRDb250ZW50ID0gJ1RvZG8nXHJcbiAgICBwcm9qZWN0bGlzdC5hcHBlbmRDaGlsZChsaSlcclxuICAgIGZvciAobGV0IHByb2plY3Qgb2Ygc29ydGVkKSB7XHJcbiAgICAgICBjb25zdCBsaSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJylcclxuICAgICAgIGxpLnRleHRDb250ZW50ID0gYCR7cHJvamVjdH1gXHJcbiAgICAgICBsaS5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0cycpXHJcbiAgICAgICBpZiAocHJvamVjdCA9PT0gJ3RvZG8nKSBjb250aW51ZTtcclxuICAgICAgIGVsc2UgcHJvamVjdGxpc3QuYXBwZW5kQ2hpbGQobGkpXHJcbiAgICB9XHJcbiAgICBcclxuICB9O1xyXG4gIGNvbnN0IHJlbW92ZVRhc2sgPSAobnVtKSA9PiB7XHJcbiAgICBjb25zdCBwcm9qZWN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtzZWxlY3RlZFByb2plY3QoKX1gKSk7XHJcbiAgICBwcm9qZWN0LnNwbGljZShudW0sIDEpO1xyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oYCR7c2VsZWN0ZWRQcm9qZWN0KCl9YCwgSlNPTi5zdHJpbmdpZnkocHJvamVjdCkpO1xyXG4gICAgZG9tVGltZSgpLmxpc3RUYXNrKCk7XHJcbiAgICBkZWxldGVyKCk7XHJcbiAgfTtcclxuICBjb25zdCBoZWFkVGFzayA9ICgpID0+IHtcclxuICAgIGxldCBwcm9qZWN0ID0gc2VsZWN0ZWRQcm9qZWN0KCk7XHJcbiAgICB0b2RvcyA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oYCR7cHJvamVjdH1gKSkgfHwgW107XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoZWFkLWZvcm1cIik7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IE9iamVjdC5mcm9tRW50cmllcyhuZXcgRm9ybURhdGEoZm9ybSkuZW50cmllcygpKTtcclxuICAgIGNvbnN0IHRhc2sgPSBuZXcgVGFzayhcclxuICAgICAgZm9ybURhdGEudGl0bGUsXHJcbiAgICApO1xyXG4gICAgdG9kb3MucHVzaCh0YXNrKTtcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGAke3Byb2plY3R9YCwgSlNPTi5zdHJpbmdpZnkodG9kb3MpKTtcclxuICAgIC8vIGNsZWFycyBwb3B1cFxyXG4gICAgY29uc3QgYmFja2dyb3VuZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkTmV3Qm94QmFja2dyb3VuZFwiKTtcclxuICAgIGJhY2tncm91bmQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgLy8gY2xlYXJzIGZvcm0gY29udGVudFxyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoZWFkLWZvcm1cIikucmVzZXQoKTtcclxuICB9XHJcbiAgcmV0dXJuIHtcclxuICAgIGdldEZvcm0sXHJcbiAgICBjaGFuZ2VUYXNrLFxyXG4gICAgY2hhbmdlUHJvamVjdCxcclxuICAgIGNyZWF0ZVAsXHJcbiAgICBsaXN0VGFzayxcclxuICAgIHJlbW92ZVRhc2ssXHJcbiAgICBsaXN0UHJvamVjdCxcclxuICAgIGhlYWRUYXNrXHJcbiAgfTtcclxufVxyXG5cclxuZXhwb3J0IHsgZG9tVGltZSwgc2VsZWN0ZWRQcm9qZWN0IH07XHJcbiIsImltcG9ydCB7IGRvbVRpbWUgfSBmcm9tIFwiLi9kb20uanNcIjtcclxuXHJcblxyXG5cclxuXHJcbmZ1bmN0aW9uIG5ld1Rhc2soKSB7XHJcbiAgY29uc3QgY3JlYXRlVGFzayA9ICgpID0+IHtcclxuICAgIC8vIGdyYWIgZGF0YSBmcm9tIGZvcm1cclxuICAgIGNvbnN0IGRvbUNyZWF0ZSA9IGRvbVRpbWUoKTtcclxuICAgIGRvbUNyZWF0ZS5nZXRGb3JtKCk7XHJcbiAgfTtcclxuICBjb25zdCBjcmVhdGVQcm9qZWN0ID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZG9tQ3JlYXRlID0gZG9tVGltZSgpO1xyXG4gICAgZG9tQ3JlYXRlLmNyZWF0ZVAoKTtcclxuICB9O1xyXG4gIGNvbnN0IGNyZWF0ZUhlYWQgPSAoKSA9PiB7XHJcbiAgICBkb21UaW1lKCkuaGVhZFRhc2soKVxyXG4gIH1cclxuICBjb25zdCBjaGVja2VkID0gKCkgPT4ge1xyXG5cclxuICB9XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBjcmVhdGVUYXNrLFxyXG4gICAgY3JlYXRlUHJvamVjdCxcclxuICAgIGNyZWF0ZUhlYWQsXHJcbiAgICBjaGVja2VkXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgeyBuZXdUYXNrfTtcclxuIiwiaW1wb3J0IFwiLi9zdHlsZS5jc3NcIjtcbmltcG9ydCB7IG5ld1Rhc2sgfSBmcm9tIFwiLi90b2RvLmpzXCI7XG5pbXBvcnQgeyBkb21UaW1lLCBzZWxlY3RlZFByb2plY3QgfSBmcm9tIFwiLi9kb20uanNcIjtcblxuY29uc29sZS5sb2coXCJ0ZXN0XCIpO1xuZG9tVGltZSgpLmxpc3RQcm9qZWN0KCk7XG5kb21UaW1lKCkubGlzdFRhc2soKTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgY29uc3QgdG9kb2xpc3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidG9kb1wiKSkgfHwgW107XG59KTtcblxuLy8gYm90dG9tIHJpZ2h0IGFkZCBidXR0b25cbmNvbnN0IGFkZE5ldyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkQnV0dG9uXCIpO1xuYWRkTmV3LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIGNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGROZXdCb3hCYWNrZ3JvdW5kXCIpO1xuICBwb3B1cC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG4gIC8vIGNhbmNlbHMgcG9wdXAgaWYgZXNjIHByZXNzZWRcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCAoZSkgPT4ge1xuICAgIGlmIChlLmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgcG9wdXAuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXdUeXBlRm9ybVwiKS5yZXNldCgpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gbG9naWMgdG8gZmluZCBmb3JtXG5mdW5jdGlvbiBnZXRTdHlsZShpZCwgbmFtZSkge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgcmV0dXJuIGVsZW1lbnQuY3VycmVudFN0eWxlXG4gICAgPyBlbGVtZW50LmN1cnJlbnRTdHlsZVtuYW1lXVxuICAgIDogd2luZG93LmdldENvbXB1dGVkU3R5bGVcbiAgICA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQsIG51bGwpLmdldFByb3BlcnR5VmFsdWUobmFtZSlcbiAgICA6IG51bGw7XG59XG5cbi8vIHBvcHVwIHdpbmRvdyBhZGQgZXZlbnRsaXN0ZW5lclxuY29uc3QgcG9wdXBOZXcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiI25ld0J1dHRvblwiKTtcbnBvcHVwTmV3LmZvckVhY2goKHBvcHVwKSA9PiB7XG4gIHBvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBpZiAoZ2V0U3R5bGUoXCJuZXdUeXBlRm9ybVwiLCBcImRpc3BsYXlcIikgPT09IFwiZmxleFwiKSB7XG4gICAgICBjb25zdCBjcmVhdGVUYXNrID0gbmV3VGFzaygpO1xuICAgICAgY3JlYXRlVGFzay5jcmVhdGVUYXNrKCk7XG4gICAgICBkb21UaW1lKCkubGlzdFRhc2soKTtcbiAgICAgIHB1bGxvdXQoKTtcbiAgICAgIGRlbGV0ZXIoKTtcbiAgICAgIHN3aXRjaGVyKCk7XG4gICAgICBjaGVja2JveCgpXG4gICAgfSBlbHNlIGlmIChnZXRTdHlsZShcIm5ld1R5cGVGb3JtXCIsIFwiZGlzcGxheVwiKSA9PT0gXCJub25lXCIpIHtcbiAgICAgIGNvbnN0IGNyZWF0ZVByb2ogPSBuZXdUYXNrKCk7XG4gICAgICBjcmVhdGVQcm9qLmNyZWF0ZVByb2plY3QoKTtcbiAgICAgIGRvbVRpbWUoKS5saXN0UHJvamVjdCgpO1xuICAgICAgcHVsbG91dCgpO1xuICAgICAgZGVsZXRlcigpO1xuICAgICAgc3dpdGNoZXIoKTtcbiAgICAgIGNoZWNrYm94KClcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIGhlYWRlciBBZGQgVGFza1xuY29uc3QgaGVhZGVydGFzayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoZWFkLXN1Ym1pdCcpXG5oZWFkZXJ0YXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIG5ld1Rhc2soKS5jcmVhdGVIZWFkKCk7XG4gICAgZG9tVGltZSgpLmxpc3RUYXNrKCk7XG4gICAgcHVsbG91dCgpO1xuICAgIGRlbGV0ZXIoKTtcbiAgICBzd2l0Y2hlcigpO1xuICAgIGNoZWNrYm94KClcblxufSlcblxuLy8gcG9wdXAgd2luZG93IHN3aXRjaGVyXG5jb25zdCBwb3B1cHR5cGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wb3B1cFNlbGVjdG9yXCIpO1xucG9wdXB0eXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gIHR5cGUuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgaWYgKHR5cGUuaWQgPT09IFwicG9wdXBQcm9qZWN0XCIpIHtcbiAgICAgIGNvbnN0IGRvbSA9IGRvbVRpbWUoKTtcbiAgICAgIGRvbS5jaGFuZ2VQcm9qZWN0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGRvbSA9IGRvbVRpbWUoKTtcbiAgICAgIGRvbS5jaGFuZ2VUYXNrKCk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBwcm9qZWN0IHN3aXRjaGVyXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoZXIoKSB7XG4gIGNvbnN0IHByb2plY3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5wcm9qZWN0c1wiKTtcbiAgY29uc3QgcHJvamVjdFRhYiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvamVjdExpc3RcIik7XG4gIHByb2plY3RzLmZvckVhY2goKHgpID0+IHtcbiAgICB4LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgZm9yIChsZXQgY2hpbGQgb2YgcHJvamVjdFRhYi5jaGlsZHJlbikge1xuICAgICAgICBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKFwic2VsZWN0ZWRcIikpIHtcbiAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QucmVtb3ZlKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgeC5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgICAgZG9tVGltZSgpLmxpc3RUYXNrKCk7XG4gICAgICAgICAgcHVsbG91dCgpO1xuICAgICAgICAgIGNoZWNrYm94KClcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbnN3aXRjaGVyKCk7XG5cbi8vIHRhc2sgZGVsZXRlclxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZXIoKSB7XG4gIGNvbnN0IGRlbGV0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhc2tSZW1vdmVcIik7XG4gIGRlbGV0ZWQuZm9yRWFjaCgoYnV0dG9uKSA9PiB7XG4gICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgY29uc3Qgc2VsZWN0ZWQgPSBzZWxlY3RlZFByb2plY3QoKTtcbiAgICAgIGNvbnN0IHRhc2tzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShgJHtzZWxlY3RlZH1gKSk7XG4gICAgICBjb25zdCBjbGlja2VkID0gZS50YXJnZXQ7XG4gICAgICBjb25zdCBwYXJlbnQgPSBjbGlja2VkLmNsb3Nlc3QoXCJkaXZcIik7XG4gICAgICBjb25zdCB2YWx1ZSA9IHBhcmVudC5kYXRhc2V0LnRhc2s7XG4gICAgICBmb3IgKGxldCB0YXNrIGluIHRhc2tzKSB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdGFza3NbdGFza10udGl0bGUpIHtcbiAgICAgICAgICBkb21UaW1lKCkucmVtb3ZlVGFzayh0YXNrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbmRlbGV0ZXIoKTtcblxuLy8gcHVsbG91dCBzd2l0Y2hcbmV4cG9ydCBmdW5jdGlvbiBwdWxsb3V0KCkge1xuICBjb25zdCB0YXNrcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmV3SXRlbVwiKTtcbiAgdGFza3MuZm9yRWFjaCgodGFzaykgPT4ge1xuICAgIHRhc2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBjb25zdCBjbGlja2VkID0gZS50YXJnZXQ7XG4gICAgICBjb25zdCBwYXJlbnQgPSBjbGlja2VkLmNsb3Nlc3QoXCJkaXZcIik7XG4gICAgICBpZiAodGFzay5jbGFzc0xpc3QuY29udGFpbnMoXCJwdWxsb3V0XCIpKSB7XG4gICAgICAgIHRhc2suY2xhc3NMaXN0LnJlbW92ZShcInB1bGxvdXRcIik7XG4gICAgICAgIHBhcmVudC5jaGlsZE5vZGVzWzNdLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRhc2suY2xhc3NMaXN0LmFkZChcInB1bGxvdXRcIik7XG4gICAgICAgIHBhcmVudC5jaGlsZE5vZGVzWzNdLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxucHVsbG91dCgpO1xuXG4vLyBjaGVja2JveCBsaXN0ZW5lclxuZnVuY3Rpb24gY2hlY2tib3goKSB7XG4gICAgY29uc3QgY2hlY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2snKVxuICAgIGNoZWNrLmZvckVhY2goeCA9PiB7XG4gICAgICAgIHguYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlID0+IHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXG4gICAgICAgICAgICBjb25zdCBwYXJlbnQgPSBlLnRhcmdldC5jbG9zZXN0KCdkaXYnKVxuICAgICAgICAgICAgY29uc29sZS5sb2cocGFyZW50KVxuICAgICAgICAgICAgY29uc3QgY2hlY2tlZHR4dCA9IHBhcmVudC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMV0uc3R5bGUudGV4dERlY29yYXRpb25cbiAgICAgICAgICAgIGlmIChjaGVja2VkdHh0ID09PSAnbGluZS10aHJvdWdoJykge1xuICAgICAgICAgICAgICAgIHBhcmVudC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMV0uc3R5bGUudGV4dERlY29yYXRpb24gPSAnbm9uZSdcbiAgICAgICAgICAgICAgICB4LmlubmVySFRNTCA9ICcnXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcmVudC5wYXJlbnROb2RlLmNoaWxkTm9kZXNbMV0uc3R5bGUudGV4dERlY29yYXRpb24gPSAnbGluZS10aHJvdWdoJ1xuICAgICAgICAgICAgICAgIHguaW5uZXJIVE1MID0gYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiPjwhLS0hIEZvbnQgQXdlc29tZSBQcm8gNi4zLjAgYnkgQGZvbnRhd2Vzb21lIC0gaHR0cHM6Ly9mb250YXdlc29tZS5jb20gTGljZW5zZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tL2xpY2Vuc2UgKENvbW1lcmNpYWwgTGljZW5zZSkgQ29weXJpZ2h0IDIwMjMgRm9udGljb25zLCBJbmMuIC0tPjxwYXRoIGQ9XCJNNDcwLjYgMTA1LjRjMTIuNSAxMi41IDEyLjUgMzIuOCAwIDQ1LjNsLTI1NiAyNTZjLTEyLjUgMTIuNS0zMi44IDEyLjUtNDUuMyAwbC0xMjgtMTI4Yy0xMi41LTEyLjUtMTIuNS0zMi44IDAtNDUuM3MzMi44LTEyLjUgNDUuMyAwTDE5MiAzMzguNyA0MjUuNCAxMDUuNGMxMi41LTEyLjUgMzIuOC0xMi41IDQ1LjMgMHpcIi8+PC9zdmc+YFxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH0pXG59XG5jaGVja2JveCgpIl0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiVGFzayIsInRpdGxlIiwiZGVzYyIsImRhdGUiLCJwcmlvciIsInRoaXMiLCJ0b2RvcyIsIkpTT04iLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkaXNwbGF5VGFzayIsImNvbnRlbnQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJkaXYiLCJjcmVhdGVFbGVtZW50IiwiY2hlY2siLCJwIiwiY2xpY2siLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsImFkZCIsImJ1dHRvbiIsImRldGFpbHMiLCJwdWxsb3V0IiwiY29uY2F0Iiwic3R5bGUiLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvciIsImRhdGFzZXQiLCJ0YXNrIiwiaW5uZXJIVE1MIiwiYXBwZW5kQ2hpbGQiLCJzZWxlY3RlZFByb2plY3QiLCJfc3RlcCIsIl9pdGVyYXRvciIsIl9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIiwiY2hpbGRyZW4iLCJzIiwibiIsImRvbmUiLCJpIiwidmFsdWUiLCJjb250YWlucyIsImlubmVyVGV4dCIsImVyciIsImUiLCJmIiwiZG9tVGltZSIsImdldEZvcm0iLCJwcm9qZWN0IiwiZm9ybSIsImZvcm1EYXRhIiwiZnJvbUVudHJpZXMiLCJGb3JtRGF0YSIsImVudHJpZXMiLCJwcmlvcml0eSIsInB1c2giLCJzZXRJdGVtIiwic3RyaW5naWZ5IiwiZGlzcGxheSIsInJlc2V0IiwiY2hhbmdlVGFzayIsInR5cGUiLCJ0eXBlU2VsZWN0IiwicHJvamVjdFNlbGVjdCIsInJlbW92ZSIsImNoYW5nZVByb2plY3QiLCJjcmVhdGVQIiwibmV3UHJvaiIsImNvbnNvbGUiLCJsb2ciLCJwcm9qZWN0VGl0bGUiLCJsaXN0VGFzayIsImNvbnRhaW5lciIsInNlbGVjdGVkIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsIm91dGVyVGV4dCIsInJlbW92ZVRhc2siLCJudW0iLCJzcGxpY2UiLCJkZWxldGVyIiwibGlzdFByb2plY3QiLCJwcm9qZWN0bGlzdCIsInByb2plY3RzIiwiX29iamVjdFNwcmVhZCIsInNvcnRlZCIsImtleXMiLCJzb3J0IiwibGkiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwiaGVhZFRhc2siLCJuZXdUYXNrIiwiY3JlYXRlVGFzayIsImNyZWF0ZVByb2plY3QiLCJjcmVhdGVIZWFkIiwiY2hlY2tlZCIsImdldFN0eWxlIiwiaWQiLCJuYW1lIiwiZWxlbWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3VycmVudFN0eWxlIiwid2luZG93IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJzd2l0Y2hlciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm9qZWN0VGFiIiwiZm9yRWFjaCIsIngiLCJhZGRFdmVudExpc3RlbmVyIiwiY2hpbGQiLCJjaGVja2JveCIsInRhc2tzIiwidGFyZ2V0IiwiY2xvc2VzdCIsInBhcmVudCIsImNoaWxkTm9kZXMiLCJldmVudCIsInN0b3BQcm9wYWdhdGlvbiIsInBhcmVudE5vZGUiLCJ0ZXh0RGVjb3JhdGlvbiIsInBvcHVwIiwicHJldmVudERlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9